# Тестовое задание для отбора на Летнюю ИТ-школу КРОК по разработке

## Условие задания
Однажды теплым летним вечером вас посетила идея разработать свое расширение для браузера для построения ссылочного графа. Что это означает на практике — ваше расширение активируется на какой-либо web-странице сайта, определяет список уникальных внешних ссылок, после чего повторяет алгоритм для каждой ссылки. Максимальная глубина поиска, визуализация собранных данных и прочие вопросы вы сочли вторичными, а начать решено было с малого — с обходчика страниц, который бы находил уникальные ссылки.

В процессе проектирования вы решили немного упростить ваш mvp и в итоге поставили себе задачу следующим образом: реализовать поиск всех уникальных ресурсов (доменов) в рамках страницы, на которые есть ссылки. При этом, формулируя задачу, вы сделали следующие допущения:
- Доменом считается запись вида example.com;
- Поддомен, например, sub.example.com,  считается отдельным ресурсом;
- Протокол (при наличии) не имеет значения.

Требования к реализации:
1. Реализация должна содержать, как минимум, одну процедуру (функцию/метод), отвечающую за поиск уникальных ресурсов, и должна быть описана в readme.md в соответствии с чек-листом;
2. В качестве входных данных программа использует реальный html-файл (page.html)	, считав который, начинает выполнять поиск;
3. Процедура (функция/метод) поиска должна возвращать строку в формате json следующего формата:
   - {«sites»: [«mail.ru», «rbc.ru», «ria.ru»]}
4. Найденные в соответствии с условием задачи домены должны выводиться в нижнем регистре без указания протокола и «www» в алфавитном порядке.

## Автор решения
Семенов Марсель Евгеньевич
## Описание реализации
Решение предоставлено на языке Java.

Версия JDK - 18.

Используемые библиотеки: Jsoup, Jackson.

В коде будет описано всё также как и ниже, только в виде комментариев.

Первым делом создаю папку data, куда помещаю файл dailyde.html из которого будут браться данные.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/f7a65a6a-6595-4b06-89f0-b5d4d4be4991)

Потом создаю класс LinkExtractor и в нём метод getLinksFromHtml, в котором будет логика сбора ссылок. Также инициализирую строку с путём до html файла, создаю экземпляр класса ObjectMapper(он понядобится чтобы в конце создать строку со всеми ссылка в соответствии с требованиями) и сет для хранения первоначальных ссылок.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/61c808c5-edca-4207-aaf7-80ad9ac8d2bc)

Загружию html файл в объект "doc" с помощью Jsoup, который позволит парсить html.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/c7e3180f-3283-4be4-a6d0-cfec28e20ca7)

Потом извлекаю все элементы link, у который есть атрибут "href" в переменную elements. После создаю цикл для каждого элемента и сначала получаю значение атрибута "href" для текущего link, затем проверю что наша ссылка не заканчивается на .json, .png и .css, т.к. такие ссылки мне не подходят. По завершению проверки добавляю ссылук в сет.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/5b424a7a-7ca7-4353-a7c8-5da6a549521f)

Далее создаю список в который перезапишу сет с некоторой корректировкой. Прохожусь по списку и обрабатываю каждую ссылку в соответстрвии с требованиями, после записываю их в список.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/747685b7-df98-44b9-a16a-3bc019980888)

Сортирую элементы так, чтобы они шли в алфавитном порядке.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/e8162654-63f2-41fd-a252-57af66a50da9)

В конце концов создаю переменнцю в которую записываю полученные названия категорий в соответствии с требованиями и возвращаю её.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/2c2a826f-a055-4f7d-ba31-71c449277e15)

Метод написан. Перехожу в класс Main чтобы проверить что всё работает. Создаю экземпляр класса LinkExtractor, чтобы получить доступ к методу getLinksFromHtml() и затем вывожу результат в консоль.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/8359428d-01a2-454b-abab-11024390243a)

## Инструкция по сборке и запуску решения
1. Откройте проект в вашей среде разработки
2. Перейдите в папку src и откройте класс Main
3. Запустите код и наблюдайте вывод в консоли

***Также предоставляю инструкцию по установке нужных библиотек***
1. Скачайте 2 библиотеки(выбираете нужную версию(можно просто самую последнюю) и скачиваете jar файл):
   
   https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind
   
   https://mvnrepository.com/artifact/org.jsoup/jsoup

4. Переходите в проект, открываете Project Structure -> Libraries и нажимаете "+" чтобы добавить библиотеку(и так для всех 2)

![326852114-10ba1c10-70e8-4413-962e-a169390deef9](https://github.com/slattchrome/school2024-test-task3/assets/112937058/7bbf656c-9b08-4390-86bf-0ad4eaf0e621)

3. Добавляете скачанные библиотеки, у вас должен получиться такой список

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/92b97f15-c38d-4251-bd00-52934d9134ae)

4. После переходите в раздел Models, ставите галочки напротив всех добавленных библиотек и кликаете Apply.

![изображение](https://github.com/slattchrome/school2024-test-task3/assets/112937058/0aa55b8b-bf26-43b2-8ec5-8b290a3a16a4)

